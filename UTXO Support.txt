Changing Protocol to Support UTXO
=================================

NOTE:

 The size of public keys and ditgital signatures can vary.

 For example in Ethereum we can work with compressed or uncompressed pub keys. Furhtermore we also have the prefixed and unprefixed pub keys.

 Likwise the signature can include the recovery bit causing a length variation between 64 bytes and 65 bytes

 Depending on the libraries in use one may find working with 1 type of pub key/signature as more convinient over another.

 Since this assignment does not require syncing different node implementations
standardizing these lengths is not necessary. 

 What is important is that lengths are used consistently (see Final References/Notes section)


Protocol For both UTXO & Non-UTXO
=================================
We want to extend the trx definition to support both UTXO and non-UTXO

This is possible as long as we use the same number of bytes to store
public keys and digital signatures.

Given this requirement we can update the protocol as follows:


Protocol Non-UTXO (Account Based)
=================================

<tran item> = <hash><unused><from_ac><to_ac>
<hash>      = 32-byte fixed width hash
<unused>    = 32-byte all set to zero
<from_ac>   = 64/65-byte public key dump
<to_ac>     = 64/65-byte public key dump


Protocol UTXO
=============

<tran item> = <hash><hash_utxo><from_ac><to_ac>
<hash>      = 32-byte fixed width hash
<hash_utxo> = 32-byte fixed width hash
<from_ac>   = 64/65-byte signature dump
<to_ac>     = 64/65-byte public key dump



References/Notes
================
https://cryptobook.nakov.com/digital-signatures
ECDSA-secp256k1 (Signature size)
64 bytes (512 bits) or 
65 bytes (513 bits) with the public key recovery bit


Cominication re: variations in field sizes.

AlexZ:
"...I am using Nethereum which generates 65-byte signatures since in Ethereum there is the added public key recovery bit. 
Others are generating 64-byte signatures.
...Do we need to standardize the byte protocol such that all fields have the same size across all nodes?"

Joshua:
"You can use different lengths for such variations"



